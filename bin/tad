#!/usr/bin/env node

'use strict';

var argv = require('optimist')
	.usage("Usage: $0 <options> <paths>...")
	.boolean(['a', 'm'])
	.describe('a', "Display all tests names, including passed")
	.describe('m', "Minimise output, verbose only for fails or errors")
	.demand(1).argv
  , pwd  = require('next/lib/pwd')
  , suite = require('../lib/suite')

  , paths = argv._;

pwd(function (err, pwd) {
	if (err) {
		throw err;
	}
	suite(paths.map(function (p) {
		return (p.charAt(0) !== '/') ? pwd + '/' + p : p;
	}), argv).end();
});
