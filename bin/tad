#!/usr/bin/env node

'use strict';

var argv = require('optimist')
	.usage("Usage: $0 <paths>..."
				 + ""
				 + "Options:"
				 + "-a  Display all tests names, including passed\n")
	.boolean(['a'])
	.demand(1).argv
  , logger = require('../lib/logger/node')
  , testPaths = require('../lib/test-paths')

  , paths = argv._;

logger = logger(argv.a);

testPaths(paths.map(function (p) {
	return (p.charAt(0) !== '/') ? process.env.PWD + '/' + p : p;
}), logger).then(logger.summarize.bind(logger)).end();
